I think a difference is being drawn between:

1. Gimli was relatively young, naive, and ignorant of the wider-world that contains many nuances and dynamic relationships between the different races. Gimli has "typical" racism.
2. Celeborn was old, traveled, and exposed to all the things Gimli was yet to learn about the wider-world, yet Celeborn still hated dwarves despite his better understanding of the difference between race and tribe and individual.
