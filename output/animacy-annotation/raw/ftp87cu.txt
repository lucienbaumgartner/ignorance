I think its because the joke is at the gang's expense. In this scene, you arent laughing at a minstrel show representation of a Japanese person, you're laughing and cringing at Charlie. Charlie, not Japanese people, is the butt of the joke here. Same with the blackface stuff. The humor comes from the fact that the gang is so tasteless and ignorant that they think that is ok, not from laughing at black people.

So idk. That's just my white guy take on it. I could be wrong
