You are in a country where many people have never seen a black person (among many other ethnicities) before, this attitude is to be expected and is generally ignorance rather then being purposely hurtful. However, you expecting to be treated like you would back home is ignorant on your part. Your professor isn't making that implication but is rather just being politically incorrect and unaware that what he wrote down could be considered hurtful. I am sure that if a white, Mexican, Indian etc was one of the best students your professor had he would say the same thing. You are an VERY noticeable ethnic minority in this country and if you can't get used to it then you should go home. There are white people who have lived in Japan for over 20 years who despite their fluency and understanding of the language and culture are still considered foreigners by most of the population. I have an American friend who speaks fluent Mandarin and the locals always make a comment of how good she speaks for a foreigner. Chinese people know their language is hard and that few foreigners who stay here manage to pick it up (or even bother to). Take pride in your understanding of the language and stop being so uptight! 

As for your stepmother, what she is doing is completely unacceptable. Tell your boyfriend to tell his parents that what they are saying is offensive and you don't appreciate it. I can unfortunately relate to this as my mother was very racist to any girlfriend I had who wasn't the same ethnicity as me or white (this really only encouraged my behaviour...). While my mothers racism hasn't dwindled but I have met others with previously racist parents/in-laws who came to accept it or took a complete u-turn and came to love their minority son/daughter in law. Your boyfriends father seems a lot more open-minded so I'm sure you'll be able to win half the battle with him. Good luck.

**Important that you remember: You are one of the few minorities that Chinese locals will get the chance to interact with. The impression you make on them will rub off on future black people they meet so make a good impression!**
