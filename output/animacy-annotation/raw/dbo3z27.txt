Catalyst expands greatly on this, but the TL;DR of it is basically that Galen is involved with everything since the early construction - both unaware and aware. Krennic knows Galen is the best one to power the weapon of the Death Star, so he effectively cons him into the research team for it. When Galen and Lyra figure out Krennic is weaponizing his research, they flee (17 years before Rogue One).

There's also another bit in the novelization that explains Galen's involvement with just why that thermal exhaust port is so conveniently a straight shot to the reactor core.
