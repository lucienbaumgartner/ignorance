What made sense was going after Al-Qaeda and maybe striking some important non-civilian areas in Afghanistan, then dealing with the Taliban in other ways. Al-Qaeda planned and conducted the 9/11 attack, not the Taliban. They were allies off and on but were not sharing power or plotting terrorist attacks abroad together. 

&gt; According to bin Laden, the Taliban were not involved in the September 11th attacks, stating in a tape sent to al-Jazeera: “I am the one responsible... The Afghan people and government knew nothing whatsoever about these events”.[514]
&gt; 
&gt; At the end of 2008, the Taliban was in talks to sever all ties with al-Qaeda.[515]
&gt; 
&gt; In 2011, Alex Strick van Linschoten and Felix Kuehn at New York University's Center on International Cooperation claimed that the two groups did not get along at times before the 11 September attacks, and they have continued to fight since on account of their differences.[516]
&gt; 
&gt; In July 2012, an anonymous senior-ranking Taliban commander stated that "Our people consider al-Qaeda to be a plague that was sent down to us by the heavens. Some even concluded that al-Qaeda are actually the spies of America. Originally, the Taliban were naive and ignorant of politics and welcomed al-Qaeda into their homes. But al-Qaeda abused our hospitality." He went on to further claim that about 70% of the Taliban are angry with al-Qaeda, revealing the icy relationship between the two groups.[517][518]

https://en.wikipedia.org/wiki/Taliban#Al-Qaeda

Trying to force a regime change lead to more lives lost and cost a shit ton of money only to end up back where we started. 

The popular will from enough of the population was not strong enough to sustain an alternative once the US was no longer keeping the Taliban away from power. We hear a lot in our media outlets about those who strongly oppose the Taliban for good reason (women/girls, LGBTQ+ people, highly educated) but there is likely many who are indifferent either way and others who support them. 

And many of those were likely in the Afghan military, just doing it for the paycheck and other nefarious reasons while never intending to put their life at risk actually fighting against the Taliban.
