In games my friends group runs, we've introduced the concept of the "player contract" which is literally a chance at the beginning of the game to talk about exactly this stuff.  The GM describes the flavor of their game and the kinds of themes we might expect to see and asks what kind of a game the players would like to play.  It's allowable to amend the player contract during game.  You can stop play and say "this isn't working for me."

When my son was really little, I found violence against children to be incredibly triggering and always asked that we **not** have that kind of stuff happen in game.

Anyone who complains about this kind of "limitation on their expression" (I've seen people do it) is someone I don't want to play with ever.  

I run one shot games called "the Adventures of Captain Atom" which are based on cheesy black and white era rocket punk SciFi movies.  The players play a bunch of 1950s SciFi stereotypes on ridiculous cosmic adventures (Captain Atom on the Planet of Dinosaurs, Captain Atom vs. the Ant Men, Captain Atom and the Menace From Mercury).  I have a sound board of old timey movie music and terrible sound effects and I get a kick out of describing the terrible special affects and how the cave of the giant beetles in Planet of Dinosaurs uses the same set as the asteroid mine in Ant Men.  We often have brief cut scenes where I, as the GM, play the director and the players play the actors playing their characters and I berate them for going off script.  These games can get all kinds of misogynistic, but part of the player contract is that we're doing this to parody and poke fun at how over the top the culture, and especially film culture in this era was.  My director character regularly sexually harasses actresses, expresses skepticism about female characters fighting or piloting rocket ships and uses words like "dame" and "broad." He's not intended to glorify that, he's intended to be a caricature of how stupid, toxic and ignorant that kind of person was (and is). 

The point is, that prior to running any of these games, we explicitly have a conversation about misogyny and toxic masculinity in old B movies.  Also racism (the robot / bug man / swamp monster is the only black guy on the cast).  I ask my players and if they're ok with parodying this behavior to laugh at it and poke fun at it.  I've never had anyone say they're not, but if I did, we would tone it down.

I encourage people to introduce this kind of an idea to their gaming groups. If your DM had just had a conversation and made some mature and clear agreements with his players, he wouldn't have hurt you and lost your friendship.
